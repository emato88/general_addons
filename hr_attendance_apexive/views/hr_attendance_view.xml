<odoo>
    <data>

        <!--    this XML view extends an existing view for the hr.attendance model by adding new
        fields (project_id, task_id, description) and modifying the view structure to accommodate them.
        It also introduces a hidden field (task_domain_ids) for filtering.    -->

        <record id="view_attendance_project_tree" model="ir.ui.view">
			<field name="name">view.attendance.project.tree</field>
			<field name="model">hr.attendance</field>
			<field name="inherit_id" ref="hr_attendance.view_attendance_tree"/>
			<field name="arch" type="xml">
				<xpath expr="//field[@name='employee_id']" position="after">
                    <field name="project_id" required="1"/>
                    <field name="task_domain_ids" invisible="1"/>
                    <field name="task_id" domain="[('id', 'in', task_domain_ids)]" required="1"/>
                    <field name="description" required="1"/>
                </xpath>
			</field>
		</record>
    </data>
</odoo>
